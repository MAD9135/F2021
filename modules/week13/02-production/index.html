<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>13.2 Pressable and Production Builds | MAD9135</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="JavaScript App Development">
    
    <link rel="preload" href="/F2021/assets/css/0.styles.bcfde06b.css" as="style"><link rel="preload" href="/F2021/assets/js/app.3b539b9e.js" as="script"><link rel="preload" href="/F2021/assets/js/2.9b88bddd.js" as="script"><link rel="preload" href="/F2021/assets/js/53.465841f2.js" as="script"><link rel="preload" href="/F2021/assets/js/7.76e645ba.js" as="script"><link rel="prefetch" href="/F2021/assets/js/10.cf5b9524.js"><link rel="prefetch" href="/F2021/assets/js/11.7ceeb2ab.js"><link rel="prefetch" href="/F2021/assets/js/12.1a7a8ba9.js"><link rel="prefetch" href="/F2021/assets/js/13.5c6f7a1e.js"><link rel="prefetch" href="/F2021/assets/js/14.c0ad5d96.js"><link rel="prefetch" href="/F2021/assets/js/15.304e9650.js"><link rel="prefetch" href="/F2021/assets/js/16.5d9fe311.js"><link rel="prefetch" href="/F2021/assets/js/17.6c054d56.js"><link rel="prefetch" href="/F2021/assets/js/18.3352dc72.js"><link rel="prefetch" href="/F2021/assets/js/19.e0219558.js"><link rel="prefetch" href="/F2021/assets/js/20.77790100.js"><link rel="prefetch" href="/F2021/assets/js/21.42067154.js"><link rel="prefetch" href="/F2021/assets/js/22.6d871874.js"><link rel="prefetch" href="/F2021/assets/js/23.8e60e630.js"><link rel="prefetch" href="/F2021/assets/js/24.a6f56ed6.js"><link rel="prefetch" href="/F2021/assets/js/25.a98bc56c.js"><link rel="prefetch" href="/F2021/assets/js/26.d1865f6f.js"><link rel="prefetch" href="/F2021/assets/js/27.3be3d8ff.js"><link rel="prefetch" href="/F2021/assets/js/28.65b77d7f.js"><link rel="prefetch" href="/F2021/assets/js/29.c73d3fd3.js"><link rel="prefetch" href="/F2021/assets/js/3.8e79d265.js"><link rel="prefetch" href="/F2021/assets/js/30.e45006ff.js"><link rel="prefetch" href="/F2021/assets/js/31.e9e57718.js"><link rel="prefetch" href="/F2021/assets/js/32.2d6bca9d.js"><link rel="prefetch" href="/F2021/assets/js/33.27e6f9a5.js"><link rel="prefetch" href="/F2021/assets/js/34.bd2e2e67.js"><link rel="prefetch" href="/F2021/assets/js/35.a160dfac.js"><link rel="prefetch" href="/F2021/assets/js/36.0c457423.js"><link rel="prefetch" href="/F2021/assets/js/37.6e3edbf3.js"><link rel="prefetch" href="/F2021/assets/js/38.8592f92f.js"><link rel="prefetch" href="/F2021/assets/js/39.6166bc29.js"><link rel="prefetch" href="/F2021/assets/js/4.9e9a36ae.js"><link rel="prefetch" href="/F2021/assets/js/40.4e94872e.js"><link rel="prefetch" href="/F2021/assets/js/41.aad912a5.js"><link rel="prefetch" href="/F2021/assets/js/42.7eeafb1c.js"><link rel="prefetch" href="/F2021/assets/js/43.58a7fb80.js"><link rel="prefetch" href="/F2021/assets/js/44.ba1f9e7b.js"><link rel="prefetch" href="/F2021/assets/js/45.01db4ce4.js"><link rel="prefetch" href="/F2021/assets/js/46.fc33f287.js"><link rel="prefetch" href="/F2021/assets/js/47.9e9ba465.js"><link rel="prefetch" href="/F2021/assets/js/48.59ae7b2b.js"><link rel="prefetch" href="/F2021/assets/js/49.0c4a493d.js"><link rel="prefetch" href="/F2021/assets/js/5.95358c66.js"><link rel="prefetch" href="/F2021/assets/js/50.a96f3b29.js"><link rel="prefetch" href="/F2021/assets/js/51.fe7fde9c.js"><link rel="prefetch" href="/F2021/assets/js/52.c4453ca9.js"><link rel="prefetch" href="/F2021/assets/js/54.f863c55b.js"><link rel="prefetch" href="/F2021/assets/js/55.79fe9168.js"><link rel="prefetch" href="/F2021/assets/js/56.24fffc34.js"><link rel="prefetch" href="/F2021/assets/js/57.e61d3c6d.js"><link rel="prefetch" href="/F2021/assets/js/58.a6bb45f4.js"><link rel="prefetch" href="/F2021/assets/js/59.ffeb3d89.js"><link rel="prefetch" href="/F2021/assets/js/6.efbb6722.js"><link rel="prefetch" href="/F2021/assets/js/60.0edf0171.js"><link rel="prefetch" href="/F2021/assets/js/61.e118764d.js"><link rel="prefetch" href="/F2021/assets/js/62.2aa6450c.js"><link rel="prefetch" href="/F2021/assets/js/63.6308330e.js"><link rel="prefetch" href="/F2021/assets/js/64.6c558fdc.js"><link rel="prefetch" href="/F2021/assets/js/65.fc44724f.js"><link rel="prefetch" href="/F2021/assets/js/66.804351e2.js"><link rel="prefetch" href="/F2021/assets/js/67.4fb38ccd.js"><link rel="prefetch" href="/F2021/assets/js/68.147e79ab.js"><link rel="prefetch" href="/F2021/assets/js/69.1ca5ff20.js"><link rel="prefetch" href="/F2021/assets/js/70.842e3254.js"><link rel="prefetch" href="/F2021/assets/js/71.ea913fcc.js"><link rel="prefetch" href="/F2021/assets/js/72.3313b213.js"><link rel="prefetch" href="/F2021/assets/js/73.875716c1.js"><link rel="prefetch" href="/F2021/assets/js/74.d6f4904f.js"><link rel="prefetch" href="/F2021/assets/js/75.d2d568a7.js"><link rel="prefetch" href="/F2021/assets/js/76.d9a9189c.js"><link rel="prefetch" href="/F2021/assets/js/77.5d65c2d0.js"><link rel="prefetch" href="/F2021/assets/js/78.6ae3071a.js"><link rel="prefetch" href="/F2021/assets/js/79.068c8b9e.js"><link rel="prefetch" href="/F2021/assets/js/8.41944dc8.js"><link rel="prefetch" href="/F2021/assets/js/80.dc065d77.js"><link rel="prefetch" href="/F2021/assets/js/81.32d35195.js"><link rel="prefetch" href="/F2021/assets/js/82.993e65e3.js"><link rel="prefetch" href="/F2021/assets/js/83.05057d3a.js"><link rel="prefetch" href="/F2021/assets/js/84.756cf71a.js"><link rel="prefetch" href="/F2021/assets/js/85.cc87b42c.js"><link rel="prefetch" href="/F2021/assets/js/86.76c846e9.js"><link rel="prefetch" href="/F2021/assets/js/87.2e7506b5.js"><link rel="prefetch" href="/F2021/assets/js/88.e6a5f95e.js"><link rel="prefetch" href="/F2021/assets/js/9.be759ad0.js">
    <link rel="stylesheet" href="/F2021/assets/css/0.styles.bcfde06b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2021/" class="home-link router-link-active"><!----> <span class="site-name">MAD9135</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2021/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2021/modules/" class="nav-link router-link-active">
  Modules
</a></div><div class="nav-item"><a href="/F2021/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2021/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2021/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2021/modules/" class="nav-link router-link-active">
  Modules
</a></div><div class="nav-item"><a href="/F2021/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2021/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2021/modules/week1/01-javascript-review/" class="sidebar-link">1.1 JavaScript Review</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2021/modules/week1/02-dom-apis/" class="sidebar-heading clickable"><span>1.2 DOM APIs Review</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/F2021/modules/week2/01-data-structures/" class="sidebar-link">2.1 JavaScript Data Types</a></li><li><a href="/F2021/modules/week2/02-modules-promises/" class="sidebar-link">2.2 Modules and Promises</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2021/modules/week3/01-what-is-react/" class="sidebar-heading clickable"><span>3.1 What is React?</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2021/modules/week3/02-react-tooling/" class="sidebar-heading clickable"><span>3.2 React Tooling</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2021/modules/week4/01-components-props/" class="sidebar-heading clickable"><span>4.1 Components &amp; Props</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/F2021/modules/week4/02-component-state/" class="sidebar-link">4.2 React State Management</a></li><li><a href="/F2021/modules/week5/01-hooks-state/" class="sidebar-link">5.1 Hooks: State &amp; AJAX</a></li><li><a href="/F2021/modules/week5/02-react-router/" class="sidebar-link">5.2 Navigation</a></li><li><a href="/F2021/modules/week6/01-context/" class="sidebar-link">6.1 React Context</a></li><li><a href="/F2021/modules/week6/02-production-deployment/" class="sidebar-link">6.2 Production Deployment</a></li><li><a href="/F2021/modules/week7/01-hooks/" class="sidebar-link">7.1 More Hooks</a></li><li><a href="/F2021/modules/week7/02-styling/" class="sidebar-link">7.2 Styling</a></li><li><a href="/F2021/modules/break-week/" class="sidebar-link">Break Week</a></li><li><a href="/F2021/modules/week9/01-react-design/" class="sidebar-link">9.1 React Styling</a></li><li><a href="/F2021/modules/week9/02-working-in-teams/" class="sidebar-link">9.2 Working in teams</a></li><li><a href="/F2021/modules/week10/01-intro-next/" class="sidebar-link">10.1 React and NextJS</a></li><li><a href="/F2021/modules/week10/02-next-server/" class="sidebar-link">10.2 NextJS Serverside</a></li><li><a href="/F2021/modules/week11/01-hello-react-native/" class="sidebar-link">11.1 React Native with Expo</a></li><li><a href="/F2021/modules/week11/02-the-same-but-different/" class="sidebar-link">11.2 What's Different</a></li><li><a href="/F2021/modules/week12/01-layout-navigation/" class="sidebar-link">12.1 Layout &amp; Navigation</a></li><li><a href="/F2021/modules/week12/02-nested-navigation/" class="sidebar-link">12.2 Nested Navigation</a></li><li><a href="/F2021/modules/week13/01-component-libraries/" class="sidebar-link">13.1 React Native Components</a></li><li><a href="/F2021/modules/week13/02-production/" aria-current="page" class="active sidebar-link">13.2 Pressable and Production Builds</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2021/modules/week13/02-production/#touching-and-tapping-components" class="sidebar-link">Touching and Tapping Components</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2021/modules/week13/02-production/#touchableopacity-touchablewithoutfeedback-touchablehighlight" class="sidebar-link">TouchableOpacity, TouchableWithoutFeedback, TouchableHighlight</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week13/02-production/#pressable" class="sidebar-link">Pressable</a></li></ul></li><li class="sidebar-sub-header"><a href="/F2021/modules/week13/02-production/#production-builds" class="sidebar-link">Production Builds</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2021/modules/week13/02-production/#expo-publish" class="sidebar-link">Expo publish</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week13/02-production/#expo-build" class="sidebar-link">Expo Build</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week13/02-production/#eas-cli" class="sidebar-link">EAS-CLI</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week13/02-production/#expo-eject" class="sidebar-link">Expo Eject</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week13/02-production/#firebase-app-distribution" class="sidebar-link">Firebase App Distribution</a></li></ul></li></ul></li><li><a href="/F2021/modules/week14/" class="sidebar-link">14.1 Demos and Samples for Final Projects</a></li><li><a href="/F2021/modules/week15/" class="sidebar-link">15.1 Course Wrap Up</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/F2021/deliverables/" class="sidebar-heading clickable"><span>Deliverables</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title">
    
  </div> <h1>13.2 Pressable and Production Builds</h1></header> <h2 id="touching-and-tapping-components"><a href="#touching-and-tapping-components" class="header-anchor">#</a> Touching and Tapping Components</h2> <p>Another difference between React and React Native is how interaction with the user is handled. In the browser, developers are used to using the mouse events, like <code>click</code>, <code>mouseover</code>, and <code>mouseout</code>.</p> <p>On a mobile device the user is using their fingers for navigation and interaction. JavaScript does also have the <code>TouchEvents</code> and the <code>PointerEvents</code> but these will all fallback to the Mouse events like click when running in a mobile browser.</p> <p>When it comes to native mobile apps, and native components we do not have <code>click</code> as an event. Instead we have the <code>onPress</code>, <code>onPressIn</code>, <code>onPressOut</code>, and <code>onLongPress</code> events.</p> <p>By default, certain native components, like buttons, support listeners for those Press events. However, this is not the case for all elements. <code>&lt;Text&gt;</code> and <code>&lt;View&gt;</code>, your two most common components do not support the <code>PressEvents</code>.</p> <h3 id="touchableopacity-touchablewithoutfeedback-touchablehighlight"><a href="#touchableopacity-touchablewithoutfeedback-touchablehighlight" class="header-anchor">#</a> TouchableOpacity, TouchableWithoutFeedback, TouchableHighlight</h3> <p>To add support for the PressEvents, we need to wrap other components inside something that can be pressed.</p> <p>Until recently, we could make things touchable or pressable by wrapping our components inside of one of three components.</p> <ul><li><a href="https://reactnative.dev/docs/touchableopacity" target="_blank" rel="noopener noreferrer">TouchableOpacity<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://reactnative.dev/docs/touchablewithoutfeedback" target="_blank" rel="noopener noreferrer">Touchable WithoutFeedback<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://reactnative.dev/docs/touchablehighlight" target="_blank" rel="noopener noreferrer">TouchableHighlight<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>All three support the <code>PressEvents</code>. The difference is just in the visual feedback given to the user when the touch the element.</p> <h3 id="pressable"><a href="#pressable" class="header-anchor">#</a> Pressable</h3> <p>In more recent versions of React Native there is a new component called <code>Pressable</code> which is aimed at replacing the other three.</p> <p>The <code>&lt;Pressable&gt;</code> component wraps your components to add the support for the <code>PressEvent</code> listeners. To change the visual feedback to the user, we use the style prop inside it. We give it a function that will pass in a Boolean that indicates whether or not the component is currently being pressed.</p> <p>Here is an example <a href="https://reactnative.dev/docs/pressable#example" target="_blank" rel="noopener noreferrer">from the reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Pressable<span class="token punctuation">,</span> StyleSheet<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> View <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>timesPressed<span class="token punctuation">,</span> setTimesPressed<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> textLog <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>timesPressed <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    textLog <span class="token operator">=</span> timesPressed <span class="token operator">+</span> <span class="token string">'x onPress'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>timesPressed <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    textLog <span class="token operator">=</span> <span class="token string">'onPress'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Pressable</span></span>
        <span class="token attr-name">onPress</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">setTimesPressed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">current</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> current <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> pressed <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            backgroundColor<span class="token operator">:</span> pressed
              <span class="token operator">?</span> <span class="token string">'rgb(210, 230, 255)'</span>
              <span class="token operator">:</span> <span class="token string">'white'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          styles<span class="token punctuation">.</span>wrapperCustom
        <span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> pressed <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>text<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>pressed <span class="token operator">?</span> <span class="token string">'Pressed!'</span> <span class="token operator">:</span> <span class="token string">'Press Me'</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Pressable</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>logBox<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">testID</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pressable_press_console<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>textLog<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token operator">:</span> <span class="token punctuation">{</span>
    flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    justifyContent<span class="token operator">:</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  text<span class="token operator">:</span> <span class="token punctuation">{</span>
    fontSize<span class="token operator">:</span> <span class="token number">16</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  wrapperCustom<span class="token operator">:</span> <span class="token punctuation">{</span>
    borderRadius<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    padding<span class="token operator">:</span> <span class="token number">6</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  logBox<span class="token operator">:</span> <span class="token punctuation">{</span>
    padding<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    margin<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    borderWidth<span class="token operator">:</span> StyleSheet<span class="token punctuation">.</span>hairlineWidth<span class="token punctuation">,</span>
    borderColor<span class="token operator">:</span> <span class="token string">'#f0f0f0'</span><span class="token punctuation">,</span>
    backgroundColor<span class="token operator">:</span> <span class="token string">'#f9f9f9'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><h2 id="production-builds"><a href="#production-builds" class="header-anchor">#</a> Production Builds</h2> <p>Expo makes it very easy for developers to build and test their apps. A simple <code>yarn start</code> on the command line begins the Metro build and gives you a QR code to scan with any phone that has the <code>Expo Go</code> client app installed.</p> <p>Hot reloading is included with Expo which means you can edit and test continually.</p> <blockquote><p>But what about your client?</p></blockquote> <blockquote><p>What about testing when your dev server is not running?</p></blockquote> <blockquote><p>What about testing when you are away from your wi-fi network?</p></blockquote> <p>To answer these concerns we have a few options.</p> <h3 id="expo-publish"><a href="#expo-publish" class="header-anchor">#</a> Expo publish</h3> <p>With the Expo CLI we can create a hosted version of our React Native App. This will still be using the Expo app as the delivery mechanism. Your client will still need to install the Expo app on their phone. However, it will create a URL that you can share with your client or other developers for testing. The URL, once opened in a browser will have the QR code that gets used by the Expo Go app to load the currently published version of your app.</p> <p>You must first create an account with <a href="https://expo.dev" target="_blank" rel="noopener noreferrer">Expo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Then you can use the CLI to create this production version.</p> <p>You can find out if you are logged in from the CLI by using the <code>expo whoami</code> command. If not logged in then you can use the <code>expo login</code> command.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>expo <span class="token function">whoami</span>
expo login
expo publish
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="https://docs.expo.dev/workflow/expo-cli/" target="_blank" rel="noopener noreferrer">Here is the Expo CLI reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>On the Expo website you will have a page where you can see all the different builds you create. Eg: <code>https://expo.dev/accounts/[your username]/builds</code></p> <p>Clicking on one of your listed builds will take you to the details page, where you can download the <code>.aab</code> Android Application Bundle file or <code>.ipa</code> iOS App Store Package file.</p> <div class="custom-block danger"><p class="custom-block-title">iOS Warning</p> <p>It is important to note that you must have owner rights on your iOS dev account to be able to create your signing certificate and actually create the downloadable <code>.ipa</code> file for iOS.</p></div> <h4 id="from-the-metro-dev-server"><a href="#from-the-metro-dev-server" class="header-anchor">#</a> From the Metro Dev Server</h4> <p>If you have your Metro bundler running through <code>expo start</code> then you can visit your Metro webpage <code>http://localhost:19002</code> and click on the <code>Publish or republish project</code> link in the left hand menu.</p> <p>This will let you do the same thing as with the <code>expo publish</code> command.</p> <p>It will open up the Expo.dev service page for your app. You will need to be logged in to the Expo website to do the publishing. This page will have a QR code that can be scanned with a phone, which will need the Expo Go app installed. That phone will be able to run the published version of the app at any time. You won't have to have your Metro Dev server running on your computer.</p> <p>For iOS, there is a security restriction. To load the published app via Expo Go, the user must be logged in to the Expo account that was used to build the app. If you are logged in to the Expo.dev website then you will have a page that you can access from anywhere to demo your published app.</p> <p>If your intention is to share the app with a client, this leaves us with the following options:</p> <ul><li>Create an account for your client and log in to that account on your computer before you publish the app to Expo.dev.</li> <li>Give your client your Expo credentials so that they can log in to the website and then open the app on their phone.</li></ul> <h3 id="expo-build"><a href="#expo-build" class="header-anchor">#</a> Expo Build</h3> <p>If you want to create the binaries locally from your Expo project you can also run the <code>expo build</code> command.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>expo build:android
expo build:ios
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>It has the same limitations for iOS. You need to have the owner rights on the iOS account.</p> <h3 id="eas-cli"><a href="#eas-cli" class="header-anchor">#</a> EAS-CLI</h3> <p>A new solution for publishing and creating your mobile binaries has been created with a tool called <strong>Expo Application Services</strong>.</p> <p><strong>EXPO</strong> and <strong>EAS</strong> is designed to run in a manner similar to Cordova and PhoneGap. One is the free public tool. The other is aimed at enterprise clients who need more support and more robust tools. Luckily <strong>EAS</strong> comes with a free level account. Great for students and independent developers.</p> <p>It uses the node package <code>eas-cli</code>. You start by installing it globally on your computer using <code>npm</code>.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g eas-cli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://blog.expo.dev/introducing-eas-395d4809cc6f" target="_blank" rel="noopener noreferrer">Here is an article<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> about how EAS works and what it does.</p> <p>It also has the login and whoami commands.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>eas <span class="token function">whoami</span>
eas login
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>With <strong>EAS</strong> you will be creating the binaries for your project without the same <a href="https://blog.expo.dev/expo-managed-workflow-in-2021-5b887bbf7dbb" target="_blank" rel="noopener noreferrer">limitations that expo build<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> had.</p> <p>It still has the restriction about iOS and needed the distribution p12 certificate, which only the iOS dev account owner can create.</p> <h3 id="expo-eject"><a href="#expo-eject" class="header-anchor">#</a> Expo Eject</h3> <p>The <code>expo publish</code> command creates that link for the demo version of your app. Both the <code>expo</code> and <code>eas</code> build commands will create binaries (only if you have the distribution certificate for iOS).</p> <p>One of the things that makes Expo a great development tool is the fact that is skips having the <code>ios</code> and <code>android</code> folders with the real mobile app project. The downside is that you don't have the mobile app project to open inside of XCode or Android Studio. This means that you don't have access to those tools to add native modules or push to devices without signed certificates.</p> <p>That is why we have the <code>expo eject</code> command.</p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>This command cannot be undone.
When the command runs it will put your project back to the same state it would be right after running <code>expo init</code></p></div> <p>Before running this command, be sure to <code>git add -A</code> and <code>git commit</code> all your changes.</p> <p>Then create a new branch where you will do the ejecting.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> checkout -b ejected
expo <span class="token function">eject</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You will get prompted to enter a package name for Android and bundle identifier for iOS. Use the same name in reverse domain name format. Eg: <code>com.algonquincollege.myusername.myapp</code> Just like for Cordova.</p> <p>This will create the <code>/ios</code> and <code>/android</code> folders and set up your projects as if you had started with <code>npx react-native init MyProject</code>.</p> <p>Cocoapods must be installed for this to work. See <a href="https://mad9135.github.io/F2021/modules/week11/01-hello-react-native/#react-native-without-expo" target="_blank" rel="noopener noreferrer">week 11.1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for the notes on the non-expo setup.</p> <p>It will take a while but you will have your React Native app along with the ios and android versions that can be opened in XCode or Android Studio.</p> <p>There may be a few native tools missing so, after the eject command is done running, run this:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>npx @react-native-community/cli doctor
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>It will review the tools that you have installed and tell you about any issues to fix. Then it gives you the options to fix the problems. Sometimes it can be easier to manual fix the problems by doing the updates and installs through XCode, npm, or Android Studio SDK manager.</p> <p>Then, to build your app you can use the command:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>npx react-native start
npx react-native run-ios
npx react-native run-android
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>The <code>start</code> command can be run first to build the JS part of the project and start the Metro bundler.</p> <p>Both the run commands will build your app and try to launch it in the emulator/simulator.</p> <blockquote><p>It is worth noting that if you have a JDK version 17 installed, it will not like your React Native project and you will get lots of Gradle build errors.</p></blockquote> <p>For Android, the Emulator should be running first or you can have a physical device connected via USB. After the run command is done you will have your <code>apk</code> file that you can install and run on a phone. For android, look inside <code>/android/app/outputs/apk/debug/</code> for the <code>app-debug.apk</code> file. This is the file that you can install and run just like you would for Cordova.</p> <p>For iOS there may be dependencies that are not linked to the project. You can fix this by running:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ios
pod <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>To Open and Run the iOS version from XCode, open the <code>/ios/[APP NAME].xcworkspace</code> file in XCode and then you can run the app from there. This can install and launch your app on any attached and signed device.</p> <blockquote><p>NOTE: Not the .xcodeproj file but the .xcworkspace file.</p></blockquote> <p>Remember to select the project in the workspace, go to the <code>Signing &amp; Capabilities</code> tab, select the <code>Algonquin College (Media and Design)</code> team from the dropdown list and have <code>Automatically manage signing</code> checked.</p> <p>The run button in XCode can build and launch the App on your device. If you change your JS code then use the <code>npx react-native start</code> command to update the JS part of the project before doing another build and run from XCode.</p> <p>Sometimes additional work has to be done removing things that were added with Expo. Honestly, it is often easier to create a new project with <code>npx react-native init MyProject</code> and then copy over your JS files and assets into the new project, than to Eject from expo and fix things.</p> <h3 id="firebase-app-distribution"><a href="#firebase-app-distribution" class="header-anchor">#</a> Firebase App Distribution</h3> <p>Another way to deliver test versions of your app to your client is through Firebase.</p> <p>Firebase has a section in the control panel called <code>Android</code>. It lets you upload the <code>.ipa</code>, <code>.apk</code> or <code>.aab</code> files, create a list of allowed users (by email address), and then distribute those files via an email.</p> <p>The person receiving the email will get BOTH the binary file for the app, plus a signed certificate from Firebase that lets the person run your mobile app.</p> <p>For iOS it means being able to provide clients with beta versions of your app without dealing with the App Store.</p> <p>For both iOS and Android it means your client feels safe because they are getting to install a signed application on their device.</p> <p>Every time you do an updated version upload to Firebase, the users in the list will automatically be sent an email with a link to the updated app.</p> <p>Obviously this doesn't work for general distribution to the public because you need an email address for each person who will download the app. However, it might work for something like an internal app for a small company that had fewer than 100 employees.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: :</span> <span class="time">12/5/2021, 7:49:53 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/F2021/modules/week13/01-component-libraries/" class="prev">
        13.1 React Native Components
      </a></span> <span class="next"><a href="/F2021/modules/week14/">
        14.1 Demos and Samples for Final Projects
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/F2021/assets/js/app.3b539b9e.js" defer></script><script src="/F2021/assets/js/2.9b88bddd.js" defer></script><script src="/F2021/assets/js/53.465841f2.js" defer></script><script src="/F2021/assets/js/7.76e645ba.js" defer></script>
  </body>
</html>
