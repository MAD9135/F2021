<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6.2 Production Deployment | MAD9135</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="JavaScript App Development">
    
    <link rel="preload" href="/F2021/assets/css/0.styles.bcfde06b.css" as="style"><link rel="preload" href="/F2021/assets/js/app.3b539b9e.js" as="script"><link rel="preload" href="/F2021/assets/js/2.9b88bddd.js" as="script"><link rel="preload" href="/F2021/assets/js/79.068c8b9e.js" as="script"><link rel="preload" href="/F2021/assets/js/7.76e645ba.js" as="script"><link rel="preload" href="/F2021/assets/js/8.41944dc8.js" as="script"><link rel="prefetch" href="/F2021/assets/js/10.cf5b9524.js"><link rel="prefetch" href="/F2021/assets/js/11.7ceeb2ab.js"><link rel="prefetch" href="/F2021/assets/js/12.1a7a8ba9.js"><link rel="prefetch" href="/F2021/assets/js/13.5c6f7a1e.js"><link rel="prefetch" href="/F2021/assets/js/14.c0ad5d96.js"><link rel="prefetch" href="/F2021/assets/js/15.304e9650.js"><link rel="prefetch" href="/F2021/assets/js/16.5d9fe311.js"><link rel="prefetch" href="/F2021/assets/js/17.6c054d56.js"><link rel="prefetch" href="/F2021/assets/js/18.3352dc72.js"><link rel="prefetch" href="/F2021/assets/js/19.e0219558.js"><link rel="prefetch" href="/F2021/assets/js/20.77790100.js"><link rel="prefetch" href="/F2021/assets/js/21.42067154.js"><link rel="prefetch" href="/F2021/assets/js/22.6d871874.js"><link rel="prefetch" href="/F2021/assets/js/23.8e60e630.js"><link rel="prefetch" href="/F2021/assets/js/24.a6f56ed6.js"><link rel="prefetch" href="/F2021/assets/js/25.a98bc56c.js"><link rel="prefetch" href="/F2021/assets/js/26.d1865f6f.js"><link rel="prefetch" href="/F2021/assets/js/27.3be3d8ff.js"><link rel="prefetch" href="/F2021/assets/js/28.65b77d7f.js"><link rel="prefetch" href="/F2021/assets/js/29.c73d3fd3.js"><link rel="prefetch" href="/F2021/assets/js/3.8e79d265.js"><link rel="prefetch" href="/F2021/assets/js/30.e45006ff.js"><link rel="prefetch" href="/F2021/assets/js/31.e9e57718.js"><link rel="prefetch" href="/F2021/assets/js/32.2d6bca9d.js"><link rel="prefetch" href="/F2021/assets/js/33.27e6f9a5.js"><link rel="prefetch" href="/F2021/assets/js/34.bd2e2e67.js"><link rel="prefetch" href="/F2021/assets/js/35.a160dfac.js"><link rel="prefetch" href="/F2021/assets/js/36.0c457423.js"><link rel="prefetch" href="/F2021/assets/js/37.6e3edbf3.js"><link rel="prefetch" href="/F2021/assets/js/38.8592f92f.js"><link rel="prefetch" href="/F2021/assets/js/39.6166bc29.js"><link rel="prefetch" href="/F2021/assets/js/4.9e9a36ae.js"><link rel="prefetch" href="/F2021/assets/js/40.4e94872e.js"><link rel="prefetch" href="/F2021/assets/js/41.aad912a5.js"><link rel="prefetch" href="/F2021/assets/js/42.7eeafb1c.js"><link rel="prefetch" href="/F2021/assets/js/43.58a7fb80.js"><link rel="prefetch" href="/F2021/assets/js/44.ba1f9e7b.js"><link rel="prefetch" href="/F2021/assets/js/45.01db4ce4.js"><link rel="prefetch" href="/F2021/assets/js/46.fc33f287.js"><link rel="prefetch" href="/F2021/assets/js/47.9e9ba465.js"><link rel="prefetch" href="/F2021/assets/js/48.59ae7b2b.js"><link rel="prefetch" href="/F2021/assets/js/49.0c4a493d.js"><link rel="prefetch" href="/F2021/assets/js/5.95358c66.js"><link rel="prefetch" href="/F2021/assets/js/50.a96f3b29.js"><link rel="prefetch" href="/F2021/assets/js/51.fe7fde9c.js"><link rel="prefetch" href="/F2021/assets/js/52.c4453ca9.js"><link rel="prefetch" href="/F2021/assets/js/53.465841f2.js"><link rel="prefetch" href="/F2021/assets/js/54.f863c55b.js"><link rel="prefetch" href="/F2021/assets/js/55.79fe9168.js"><link rel="prefetch" href="/F2021/assets/js/56.24fffc34.js"><link rel="prefetch" href="/F2021/assets/js/57.e61d3c6d.js"><link rel="prefetch" href="/F2021/assets/js/58.a6bb45f4.js"><link rel="prefetch" href="/F2021/assets/js/59.ffeb3d89.js"><link rel="prefetch" href="/F2021/assets/js/6.efbb6722.js"><link rel="prefetch" href="/F2021/assets/js/60.0edf0171.js"><link rel="prefetch" href="/F2021/assets/js/61.e118764d.js"><link rel="prefetch" href="/F2021/assets/js/62.2aa6450c.js"><link rel="prefetch" href="/F2021/assets/js/63.6308330e.js"><link rel="prefetch" href="/F2021/assets/js/64.6c558fdc.js"><link rel="prefetch" href="/F2021/assets/js/65.fc44724f.js"><link rel="prefetch" href="/F2021/assets/js/66.804351e2.js"><link rel="prefetch" href="/F2021/assets/js/67.4fb38ccd.js"><link rel="prefetch" href="/F2021/assets/js/68.147e79ab.js"><link rel="prefetch" href="/F2021/assets/js/69.1ca5ff20.js"><link rel="prefetch" href="/F2021/assets/js/70.842e3254.js"><link rel="prefetch" href="/F2021/assets/js/71.ea913fcc.js"><link rel="prefetch" href="/F2021/assets/js/72.3313b213.js"><link rel="prefetch" href="/F2021/assets/js/73.875716c1.js"><link rel="prefetch" href="/F2021/assets/js/74.d6f4904f.js"><link rel="prefetch" href="/F2021/assets/js/75.d2d568a7.js"><link rel="prefetch" href="/F2021/assets/js/76.d9a9189c.js"><link rel="prefetch" href="/F2021/assets/js/77.5d65c2d0.js"><link rel="prefetch" href="/F2021/assets/js/78.6ae3071a.js"><link rel="prefetch" href="/F2021/assets/js/80.dc065d77.js"><link rel="prefetch" href="/F2021/assets/js/81.32d35195.js"><link rel="prefetch" href="/F2021/assets/js/82.993e65e3.js"><link rel="prefetch" href="/F2021/assets/js/83.05057d3a.js"><link rel="prefetch" href="/F2021/assets/js/84.756cf71a.js"><link rel="prefetch" href="/F2021/assets/js/85.cc87b42c.js"><link rel="prefetch" href="/F2021/assets/js/86.76c846e9.js"><link rel="prefetch" href="/F2021/assets/js/87.2e7506b5.js"><link rel="prefetch" href="/F2021/assets/js/88.e6a5f95e.js"><link rel="prefetch" href="/F2021/assets/js/9.be759ad0.js">
    <link rel="stylesheet" href="/F2021/assets/css/0.styles.bcfde06b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2021/" class="home-link router-link-active"><!----> <span class="site-name">MAD9135</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2021/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2021/modules/" class="nav-link router-link-active">
  Modules
</a></div><div class="nav-item"><a href="/F2021/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2021/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2021/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2021/modules/" class="nav-link router-link-active">
  Modules
</a></div><div class="nav-item"><a href="/F2021/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2021/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2021/modules/week1/01-javascript-review/" class="sidebar-link">1.1 JavaScript Review</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2021/modules/week1/02-dom-apis/" class="sidebar-heading clickable"><span>1.2 DOM APIs Review</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/F2021/modules/week2/01-data-structures/" class="sidebar-link">2.1 JavaScript Data Types</a></li><li><a href="/F2021/modules/week2/02-modules-promises/" class="sidebar-link">2.2 Modules and Promises</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2021/modules/week3/01-what-is-react/" class="sidebar-heading clickable"><span>3.1 What is React?</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2021/modules/week3/02-react-tooling/" class="sidebar-heading clickable"><span>3.2 React Tooling</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/F2021/modules/week4/01-components-props/" class="sidebar-heading clickable"><span>4.1 Components &amp; Props</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/F2021/modules/week4/02-component-state/" class="sidebar-link">4.2 React State Management</a></li><li><a href="/F2021/modules/week5/01-hooks-state/" class="sidebar-link">5.1 Hooks: State &amp; AJAX</a></li><li><a href="/F2021/modules/week5/02-react-router/" class="sidebar-link">5.2 Navigation</a></li><li><a href="/F2021/modules/week6/01-context/" class="sidebar-link">6.1 React Context</a></li><li><a href="/F2021/modules/week6/02-production-deployment/" aria-current="page" class="active sidebar-link">6.2 Production Deployment</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#manual-build-and-deploy" class="sidebar-link">Manual Build and Deploy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#the-build-step" class="sidebar-link">The build step</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#deployment" class="sidebar-link">Deployment</a></li></ul></li><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#github-pages" class="sidebar-link">GitHub Pages</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#no-support-for-history-api" class="sidebar-link">No support for History API</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#building-for-relative-paths" class="sidebar-link">Building for relative paths</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#create-your-github-repo" class="sidebar-link">Create your GitHub Repo</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#gh-pages-npm-package" class="sidebar-link">gh-pages NPM package</a></li></ul></li><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#netlify" class="sidebar-link">Netlify</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#set-up-continuous-delivery" class="sidebar-link">Set up continuous delivery</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#support-for-client-side-routing" class="sidebar-link">Support for client-side routing</a></li></ul></li><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#video-tutorials" class="sidebar-link">Video Tutorials</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#assignments-reminder" class="sidebar-link">Assignments Reminder</a></li><li class="sidebar-sub-header"><a href="/F2021/modules/week6/02-production-deployment/#references" class="sidebar-link">References</a></li></ul></li><li><a href="/F2021/modules/week7/01-hooks/" class="sidebar-link">7.1 More Hooks</a></li><li><a href="/F2021/modules/week7/02-styling/" class="sidebar-link">7.2 Styling</a></li><li><a href="/F2021/modules/break-week/" class="sidebar-link">Break Week</a></li><li><a href="/F2021/modules/week9/01-react-design/" class="sidebar-link">9.1 React Styling</a></li><li><a href="/F2021/modules/week9/02-working-in-teams/" class="sidebar-link">9.2 Working in teams</a></li><li><a href="/F2021/modules/week10/01-intro-next/" class="sidebar-link">10.1 React and NextJS</a></li><li><a href="/F2021/modules/week10/02-next-server/" class="sidebar-link">10.2 NextJS Serverside</a></li><li><a href="/F2021/modules/week11/01-hello-react-native/" class="sidebar-link">11.1 React Native with Expo</a></li><li><a href="/F2021/modules/week11/02-the-same-but-different/" class="sidebar-link">11.2 What's Different</a></li><li><a href="/F2021/modules/week12/01-layout-navigation/" class="sidebar-link">12.1 Layout &amp; Navigation</a></li><li><a href="/F2021/modules/week12/02-nested-navigation/" class="sidebar-link">12.2 Nested Navigation</a></li><li><a href="/F2021/modules/week13/01-component-libraries/" class="sidebar-link">13.1 React Native Components</a></li><li><a href="/F2021/modules/week13/02-production/" class="sidebar-link">13.2 Pressable and Production Builds</a></li><li><a href="/F2021/modules/week14/" class="sidebar-link">14.1 Demos and Samples for Final Projects</a></li><li><a href="/F2021/modules/week15/" class="sidebar-link">15.1 Course Wrap Up</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/F2021/deliverables/" class="sidebar-heading clickable"><span>Deliverables</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title">
    
  </div> <h1>6.2 Production Deployment</h1></header> <p>When you are ready to share your latest creation with the world, there are a couple of things that need to happen.</p> <ol><li><p>Run the <code>build</code> script to package all of the project dependencies into the fewest compressed files possible. Webpack will help manage this part.</p></li> <li><p>Copy the resulting files to your website hosting service.</p></li></ol> <p>Depending on which hosting service you are using, these steps may look a little different. Let's look at two different options.</p> <h2 id="manual-build-and-deploy"><a href="#manual-build-and-deploy" class="header-anchor">#</a> Manual Build and Deploy</h2> <h3 id="the-build-step"><a href="#the-build-step" class="header-anchor">#</a> The build step</h3> <p>The development build for React has a lot of extras that help with the development process, like source-maps and hot-module-replacement. It also makes no attempt to minify anything.</p> <p>The production build, will use a more streamlined version of the core React library and take advantage of Webpack's &quot;tree shaking&quot; capabilities to slim down your third-party dependencies as well.</p> <p><code>create-react-app</code> has already done the hard work of configuring Webpack and scripting the whole build process. You just need to run the <code>build</code> script from the <code>package.json</code> file like this ...</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>or</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm run build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>From the docs ...</p> <blockquote><p>Builds the app for production to the build folder.
It correctly bundles React in production mode and optimizes the build for the best performance.</p> <p>The build is minified and the filenames include the hashes.
Your app is ready to be deployed!</p></blockquote> <h3 id="deployment"><a href="#deployment" class="header-anchor">#</a> Deployment</h3> <p>Running the command <code>yarn build</code> will create a <em>build</em> folder at the top level of your project, minimize your project and copy the files into this build folder. You can now put the contents of this folder on your webserver as your website with SSH or SFTP.</p> <div class="custom-block tip"><p class="custom-block-title">Create React App - Deployment Guide</p> <p>The <a href="https://facebook.github.io/create-react-app/docs/deployment" target="_blank" rel="noopener noreferrer">create-react-app documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> has detailed instructions for deploying to the most common hosting options.</p></div> <h2 id="github-pages"><a href="#github-pages" class="header-anchor">#</a> GitHub Pages</h2> <h3 id="no-support-for-history-api"><a href="#no-support-for-history-api" class="header-anchor">#</a> No support for History API</h3> <p>GitHub Pages does not support the automatic redirects necessary for client-side routing using the HTML5 <code>pushState</code> history API. If you are hosting on GitHub then <code>BrowserRouter</code> will fail. You will need to use <code>HashRouter</code> instead.</p> <p>This means that a path like <code>https://www.example.com/kids/123</code> would have to be written like <code>https://www.example.com/#/kids/123</code> instead.</p> <p><strong>See the <a href="https://reacttraining.com/react-router/web/api/HashRouter" target="_blank" rel="noopener noreferrer">Hashrouter reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> documentation.</strong></p> <h3 id="building-for-relative-paths"><a href="#building-for-relative-paths" class="header-anchor">#</a> Building for relative paths</h3> <div class="custom-block warning"><p class="custom-block-title">From the docs ...</p> <p>By default, Create React App produces a build assuming your app is hosted at the server root.</p> <p>To override this, specify the <code>homepage</code> in your <code>package.json</code>, for example:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://YOUR-USERANME.github.io/REPO-NAME&quot;</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This will let Create React App correctly infer the root path to use in the generated HTML file. All your GitHub Pages websites are inside a folder, which is the name of your repo, and not at the root of the <code>github.io</code> domain.</p></div> <h3 id="create-your-github-repo"><a href="#create-your-github-repo" class="header-anchor">#</a> Create your GitHub Repo</h3> <p>Follow the normal steps to set up your GitHub Repo and then link it to your local development git repo and push the commits up to the server.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git init
git add -A
git commit -m &quot;Add React project files&quot;
git remote add origin https://github.com/YOUR-USERANME/REPO-NAME.git
git push -u origin main
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Go to your GitHub repo, AFTER pushing to the repo, and set the <code>gh-pages</code> branch as the source for the gh-pages website by adding a <code>gh-pages</code> branch.</p> <h3 id="gh-pages-npm-package"><a href="#gh-pages-npm-package" class="header-anchor">#</a> gh-pages NPM package</h3> <p>Install <code>gh-pages</code> from npm, as a development dependency.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add gh-pages -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Update your <code>package.json</code> file to add the <code>deploy</code> and <code>predeploy</code> scripts.</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token string">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://username.github.io/repo-name&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token string">&quot;predeploy&quot;</span><span class="token operator">:</span><span class="token string">&quot;yarn build&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;deploy&quot;</span><span class="token operator">:</span><span class="token string">&quot;gh-pages -d build&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;start&quot;</span><span class="token operator">:</span><span class="token string">&quot;react-scripts start&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token operator">:</span><span class="token string">&quot;react-scripts build&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts test&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;eject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts eject&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>The <code>predeploy</code> script will be run automatically when you run <code>yarn deploy</code>. This will run the normal CRA build process, placing the production ready files in the <code>build</code> folder. The deploy script will then create a new <code>gh-pages</code> branch (if it does not already exist) in your GitHub repo and push the contents of the <code>build</code> folder to that branch. It will also automatically enable the GitHub Pages publishing feature in your repo's settings.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn deploy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Wait for that to finish, then visit <code>https://USER-NAME.github.io/REPO-NAME/</code> to see your public React site working.</p> <h4 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h4> <ul><li><a href="https://reacttraining.com/react-router/web/api/HashRouter" target="_blank" rel="noopener noreferrer">HashRouter reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.youtube.com/watch?v=517npPWIb8Q" target="_blank" rel="noopener noreferrer">Deploying Production Build React App on gh-pages video<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="netlify"><a href="#netlify" class="header-anchor">#</a> Netlify</h2> <p><a href="https://www.netlify.com/" target="_blank" rel="noopener noreferrer">Netlify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is another great hosting option with a generous free tier. It makes deploying your sites (React or otherwise) dead simple. Once configured, you can just push a new commit to your <code>main</code> branch and Netlify will automatically run the build process and deploy your site.</p> <h3 id="set-up-continuous-delivery"><a href="#set-up-continuous-delivery" class="header-anchor">#</a> Set up continuous delivery</h3> <ol><li><a href="https://app.netlify.com/signup" target="_blank" rel="noopener noreferrer">Start a new netlify project<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Pick your Git hosting service and select your repository</li> <li>Click Build your site</li></ol> <h3 id="support-for-client-side-routing"><a href="#support-for-client-side-routing" class="header-anchor">#</a> Support for client-side routing</h3> <p>To support <code>pushState</code> (i.e. with BrowserRouter), make sure to create a <code>public/_redirects</code> file with the following rewrite rules:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/*  /index.html  200
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>When you build the project, Create React App will place the public folder contents into the build output and Netlify will correctly handle the redirects.</p> <div class="custom-block warning"><p class="custom-block-title">Remember</p> <p>If you are publishing to Netlify, you should remove the <code>gh-pages</code> related changes to your <code>package.json</code> file.</p></div> <p><a href="https://github.com/prof3ssorSt3v3/edit-inplace-react" target="_blank" rel="noopener noreferrer">This repo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> has notes in the <code>README.md</code> about the setup steps for Netlify and Github.</p> <h2 id="video-tutorials"><a href="#video-tutorials" class="header-anchor">#</a> Video Tutorials</h2> <p>Here is a series of 3 videos talking about how you can combine GitHub, Netlify, and Serverless. You are not required to use the Serverless Part.</p> <p><a href="https://www.youtube.com/watch?v=TSQAjWq49iw&amp;list=PLyuRouwmQCjkMN2iGFfxo8nMTXLqCgUqr" target="_blank" rel="noopener noreferrer">Playlist of 3 videos about Netlify deployment<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>See the individual links below.</p> <h2 id="assignments-reminder"><a href="#assignments-reminder" class="header-anchor">#</a> Assignments Reminder</h2> <p>Class assignment <a href="/deliverables/c2">C2 - React Navigation</a> is due this week.</p> <p>Class assignment <a href="/deliverables/c3">C3 - React Deployment</a> is due next week.</p> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <div title="pre and post npm scripts" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/kwn7tHJJoLA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <div title="netlify part 1" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/TSQAjWq49iw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <div title="netlify part 2" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/ubg5imv2al8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <div title="netlify part 3" class="video-player"><iframe width="560" height="315" src="https://www.youtube.com/embed/a1AphvrtynU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: :</span> <span class="time">11/11/2021, 10:30:24 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/F2021/modules/week6/01-context/" class="prev">
        6 React Context API
      </a></span> <span class="next"><a href="/F2021/modules/week7/01-hooks/">
        7.1 More Hooks
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/F2021/assets/js/app.3b539b9e.js" defer></script><script src="/F2021/assets/js/2.9b88bddd.js" defer></script><script src="/F2021/assets/js/79.068c8b9e.js" defer></script><script src="/F2021/assets/js/7.76e645ba.js" defer></script><script src="/F2021/assets/js/8.41944dc8.js" defer></script>
  </body>
</html>
